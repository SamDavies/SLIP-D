<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>SLIP group D - Smart Lock</title>

        <!-- tocify CSS -->
        <link type="text/css" rel="stylesheet" href="css/jquery.tocify.css" />
        
        <!-- Bootstrap Core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">

        <!-- Custom CSS -->
        <link href="css/stylish-portfolio.css" rel="stylesheet">

        <!-- Custom Fonts -->
        <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    </head>

    <body>

        <!-- Navigation -->
        <a id="menu-toggle" href="#" class="btn btn-dark btn-lg toggle"><i class="fa fa-bars"></i></a>
        <nav id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <a id="menu-close" href="#" class="btn btn-light btn-lg pull-right toggle"><i class="fa fa-times"></i></a>
                <li class="sidebar-brand">
                    <a href="#top"  onclick = $("#menu-close").click(); >Close</a>
                </li>
                <li>
                    <a href="index.html">Home</a>
                </li>
                <li>
                    <a href="ayrton.html">Ayrton Massey</a>
                </li>
                <li>
                    <a href="dan.html">Dan Ristea</a>
                </li>
                <li>
                    <a href="fabien.html">Fabien Florek</a>
                </li>
                <li>
                    <a href="jp.html">JP Larsson</a>
                </li>
                <li>
                    <a href="michael.html">Michael Inglis</a>
                </li>
                <li>
                    <a href="sam.html">Sam Davies</a>
                </li>
            </ul>
        </nav>

        <!-- Header -->
        <header id="top" class="banner-top">
            <div class="" style="display: table-cell; display: table-cell;
                                 vertical-align: middle; padding-left: 80px;">
                <img class="portrait" src="img/ayrton.jpg" width=200 height=200 style="text-align: center" />
            </div>
            <div class="text-vertical-center">
                <h1>Ayrton Massey</h1>
                <h3>Web Application</h3>
            </div>
        </header>
        
        <div class="col-md-3" id="toc-container">
            <div style="padding-top:40px">
            </div>
            <div id="toc">
            </div>
        </div>

        <div class="col-md-9" id="report-context">
            <section class="col-md-12">
                
                <h1 class="page-header">Introduction</h1>

                <p>In this report I will discuss my contributions to
                    the <em>SmartLock</em> project, discussing the motivation for
                    design choices, technical implementation details and
                    critical evaluation of the work produced.</p>

                <p>My contribution to the project can be summarised as
                    the following:</p>

                <ul>
                    <li>Produced a web application management
                        interface for administrating and operating
                        <em>SmartLock</em> devices</li>
                    <li>Developed a <em>SmartLock</em> device
                        communication emulator<sup><a
                                                       href="#gh-lock-emulator">[1]</a></sup> to
                        allow development of the software components
                        independently from the hardware</li>
                    <li>Improved the API logic<sup><a
                                                       href="#gh-lock-logic">[2]</a></sup> for
                        communicating with the <em>SmartLock</em>
                        device.</li>
                    <li>Contributed endpoints<sup><a
                                                      href="#gh-api-endpoints">[3]</a></sup> to the
                        API to provide data required by the web
                        application.</li>
                </ul>
                
                <subsection class="col-md-12">
                    
                    <h2>Motivation</h2>
                    
                    <p>The task for this course was to design and
                        build an Internet of Things (IoT) device and
                        a suite of applications to interface with it.</p>

                    <p>We met up in the first week of the semester to
                        share our ideas and take the most promising ones
                        to the next stage. Some of those ideas included:</p>

                    <ul>
                        <li>
                            A <strong>dance mat</strong> which
                            measures the level of movement, to allow
                            nightclub DJs to analyse the crowd's
                            reactions to the music being played and
                            use this information to improve their
                            playlist.
                        </li>
                        <li>
                            A <strong>board game</strong> which
                            detects game pieces and shares its state
                            with an API, allowing two players to play
                            against each other remotely (either via
                            another board, or an app we would
                            develop), or against an AI.
                        </li>
                        <li>
                            A <strong>door lock</strong> which can be
                            opened remotely via the internet, allowing
                            the owner to share access with friends or
                            housemates.
                        </li>
                    </ul>

                    <p>The group decided that the door lock idea had
                        the most potential. The project was small
                        enough in scope to allow us to focus on
                        producing a quality product, but large enough
                        to provide each team member with a substantial
                        amount of interesting work.</p>

                    <p>I had a very personal stake in this idea;
                        myself and my flatmate have thought about
                        implementing it before (after one too many
                        accidental lock-outs), but we have never had
                        the time to explore it until now.</p>
                    
                </subsection>
                
                <subsection class="col-md-12">
                    
                    <h2>Problem Analysis</h2>
                    
                    <p>To create the door lock we would need an
                        <strong>integrated system</strong> to handle
                        communication between the device and the user. We
                        also wanted to provide <strong>iOS</strong>,
                        <strong>Android</strong> and <strong>web</strong>
                        applications to allow users to access the lock
                        wherever they are, using whatever device they have
                        available.</p>

                    <p>I was tasked with development of the web
                        application, which was intended to be an
                        <strong>administrative interface</strong> where a
                        user could control their devices and who has
                        access to them. We later extended this
                        functionality to the mobile applications,
                        providing consistency across all devices.</p>

                    <p>We felt it was important that the application use
                        <strong>responsive design</strong> techniques to
                        provide access to users on operating systems other
                        than iOS and Android (such as Windows Phones and
                        Blackberry devices).</p>

                    <p>The application would need to provide the
                        following core functionality:</p>

                    <ul>
                        <li>Provide a means to <strong>register devices</strong> to a user</li>
                        <li>Allow users to <strong>operate</strong> their registered devices remotely</li>
                        <li>Display the <strong>status</strong> of their registered devices at all times</li>
                        <li>Provide <strong>shared access controls</strong></li>
                        <li>Allow <strong>secure communication</strong> between the user and their device</li>
                        <li>Display correctly across a <strong>range of mobile and desktop platforms</strong></li>
                    </ul>
                    
                </subsection>
                
            </section>

            <section class="col-md-12">
                
                <h1 class="page-header">Design</h1>

                <p>In this section I will discuss the motivation for
                    design decisions, as well as describe the overall
                    architecture of the integrated system.</p>
                
                <subsection>

                    <h2>Communication</h2>
                    
                    <p>After establishing the requirements for the
                        project we discussed the system architecture. We
                        considered a few methods of communication: one in
                        which the mobile device acts as the base station
                        for the lock, communicating with it via bluetooth
                        and passing communications over a 4G / WiFi
                        network to and from an API; another in which the
                        mobile device connected to and authenticated with
                        the lock directly.</p>

                    <p>However, we decided that these systems were too
                        insecure. In the first system the mobile device
                        could easily spoof communications from the API,
                        bypassing any authentication system in place. In
                        the second, the lock would not have a trusted
                        authority for authentication at all and would thus
                        have to trust the mobile device completely. In
                        both systems there would be no way for a user to
                        monitor the lock's status if there were no mobile
                        devices present nearby, violating the requirement
                        for users to be able to view the status of their
                        devices at all times.</p>

                    <p>We designed a third system in which the lock
                        communicates with an API directly over a WiFi or
                        mobile network. This system removed the security
                        issues present in the other two designs, as a
                        mobile device would need to authenticate with a
                        central API server and the lock would only
                        communicate with a trusted authority. Having the
                        lock repeatedly ping the server would provide
                        status updates to the API at regular intervals,
                        notifying users when their lock disappears from
                        the network (perhaps due to a power outage or
                        vandalism) and keeping information about the lock
                        up-to-date at all times.</p>

                    <div class="img-row">
                        
                        <div class="img-container outside desktop">
                            <img src="img/ayrton/communications.png" width=400 />
                            <p class="caption">The user profile page on a desktop computer.</p>
                        </div>
                        
                    </div>
                    
                    
                    <p>Communicating this information to the user is
                        where I come in. Using a central API allows us to
                        develop a suite of applications to display
                        information collected by the API. All of the
                        authentication, user and device management is
                        handled by the API, providing a uniform experience
                        across all devices and removing the need for
                        separate implementations of the same logic. All I
                        would need to do is develop a means of
                        communication between my application and the API
                        alongside <a href="michael.html">Michael</a>.</p>

                    <subsection>
                        
                        <h3>API Communications</h3>

                        <p>The software developers on the team laid out
                            the following API specification which would
                            provide the minimum required functionality to each
                            app:</p>

                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>API Endpoint</th>
                                    <th>Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>/user</code></td>
                                    <td>
                                        <ul>
                                            <li>Provides information about all
                                                users on the system to enable friend
                                                search.</li>
                                            <li>Provides registration function
                                                for new users.</li>
                                        </ul>
                                    </td>
                                </tr>

                                <tr>
                                    <td><code>/friend</code></td>
                                    <td>
                                        <ul>
                                            <li>Provides information about
                                                a user's friends,
                                                including what access they
                                                have to each others'
                                                devices.</li>
                                            <li>Provides functionality for
                                                adding and removing friends.</li>
                                        </ul>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td><code>/lock[/&lt;id&gt;]</code></td>
                                    <td>
                                        <ul>
                                            <li>Provides information about a user's registered devices.</li>
                                            <li>Provides detailed information about a specific device.</li>
                                            <li>Provides functionality for registering new devices.</li>
                                        </ul> 
                                    </td>
                                </tr>

                                <tr>
                                    <td><code>/friend-lock</code></td>
                                    <td>
                                        <ul>
                                            <li>Allow users to give or revoke access to a device to a friend.</li>
                                        </ul> 
                                    </td>
                                </tr>

                                <tr>
                                    <td><code>/open/&lt;id&gt;</code></td>
                                    <td>
                                        <ul>
                                            <li>Send a request to open a lock.</li>
                                        </ul> 
                                    </td>
                                </tr>

                                <tr>
                                    <td><code>/close/&lt;id&gt;</code></td>
                                    <td>
                                        <ul>
                                            <li>Send a request to close a lock.</li>
                                        </ul> 
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <p>We would also need to settle upon a method for
                            securely communicating between the API and the
                            web application. We decided to use <strong>HTTP Basic
                            Authentication</strong> to begin development,
                            which is achieved by sending the base 64
                            encoded username and password in the HTTP
                            request header. Base 64 encoding is not a
                            secure method of communcation as the process
                            is easily reversed; we settled upon this
                            authentication method not because it was
                            secure but because it was simple to implement.
                            This allowed us to focus on adding functionality
                            to the applications. In a production
                            environment we would need to change the method
                            of authentication to something more secure.</p>
                        
                    </subsection>

                    <subsection>

                        <h3>Lock Communication</h3>

                        <p>Once the lock hardware was built we
                            discovered that our initial design for the
                            lock's communication was insufficient. The
                            lock was only able to send HTTP
                            <code>GET</code> requests to the API to
                            indicate its current status, so we needed
                            to re-think our communication design. The
                            original approach we used also prevented
                            the user from opening the lock with a
                            physical key: if the lock believed it
                            should be closed, it would continue to try
                            to close the lock even when a key was
                            used. Together with <a
                            href="jp.html">JP</a>, <a
                            href="sam.html">Sam</a>, and Michael, I
                            re-designed the logic<sup><a
                            href="#gh-lock-logic">[2]</a></sup> for
                            the lock system to use a follow-the-leader
                            approach with the lock being the
                            leader. This design caused the API to work
                            in conjunction with a physical key, making
                            <em>requests</em> for the lock to close
                            but never forcing it to do so.</p>

                        <table class="table table-striped">
                            
                            <thead>
                                
                                <tr>
                                    <th>Lock State</th>
                                    <th>API State</th>
                                    <th>Application Request</th>
                                    <th>Description</th>
                                </tr>
                                
                            </thead>
                            
                            <tbody>

                                <tr>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td>Initially, all systems agree that the lock is open.</td>
                                </tr>

                                <tr>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td>A user makes a request to close the lock.</td>
                                </tr>

                                <tr>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td>The API sends a request to the lock to close but the lock is still reporting that it is open.</td>
                                </tr>

                                <tr>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td>The lock receives the request to close the lock.</td>
                                </tr>

                                <tr>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td>The lock tells the API that the lock is closed.</td>
                                </tr>

                                <tr>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td>The web application receives the information that the lock is closed.</td>
                                </tr>
                                
                                <tr>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td>A user opens the lock with a physical key. The lock now reports that it is open.</td>
                                </tr>

                                <tr>
                                    <td style="color: #5cb85c; font-weight: bold">Open</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td>The API requests that the lock close again but the lock remains open.</td>
                                </tr>

                                <tr>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #f0ad4e; font-weight: bold">Pending Close</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td>The user locks the door with the physical key. The lock begins reporting that it is closed.</td>
                                </tr>

                                <tr>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td style="color: #d9534f; font-weight: bold">Closed</td>
                                    <td>The systems agree once more.</td>
                                </tr>

                            </tbody>

                        </table>

                    </subsection>
                    
                </subsection>

                <subsection>

                    <h2>Management Interface</h2>

                    <p>The task assigned to me was to develop the
                        device management interface. In the following
                        sections I will discuss how I designed each
                        section of application.</p>

                    <p>The main purpose of the management application
                        to display large amount of information in an
                        easily to digestible format. For this reason I
                        have opted for a simple design theme throughout,
                        with as little visual distraction as
                        possible. This means that my application will not
                        use flashy animations or other elements that serve
                        no functional purpose.</p>

                    <p>Opting for a simple design enables me to focus
                        on providing a fully-functional, bug-free
                        experience to the user. This will reduce
                        frustration and confusion for the user and give
                        them confidence that their device is functioning
                        as expected - if a user sees the application
                        falsely report that a lock is closed when it is in
                        fact open the product will make them feel less
                        secure.</p>

                    <subsection>

                        <h3>User Profile</h3>

                        <p>The profile page to displays the user's
                            personal information in a clear, concise
                            manner. I have opted to move the user's
                            locks to their own section of the
                            application (see the next section) to
                            avoid overloading the user with
                            information and provide quick access to
                            the specific functionality they require.</p>
                        
                        <p>The mobile image features one of the many
                            alerts the application shows to the user. In
                            the event of an error (whether caused by the
                            API or by erroneous user input) or upon
                            success of an action the user is shown a
                            message box informing them of what has just
                            occurred. This is useful for communicating
                            back-end operations to the user, clearing up
                            any concerns they may have. For example,
                            if the user attempts to register a lock but
                            the operation fails due to a database error,
                            they may ask: <em>why was my lock not
                            registered?</em> Using the message flashing
                            system we can dynamically show an error
                            message to explain why.</p>
                        
                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/profile.png" width=500 />
                                <p class="caption">The user profile page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/profile-mobile.png" width=200 />
                                <p class="caption">...and on a mobile device.</p>
                            </div>
                            
                        </div>
                        
                        <subsection>
                            
                            <h4>Potential Improvements</h4>
                                                        
                            <p>The user is currently unable to change
                            any of their details. Given more time I
                            would add this functionality. However,
                            this was difficult to co-ordinate after
                            the presentation as each of us had other
                            obligations. Although I managed to add
                            some API features, this was a low
                            priority.</p>

                        </subsection>
                        
                    </subsection>

                    <subsection>

                        <h3>Friend Overview</h3>

                        <p>The friend overview page allows a user to
                        add and remove friends. The page uses a
                        typeahead to suggest friends to users based on
                        their input - for example, if I enter
                        "<em>Mich</em>" then the typeahead might
                        suggest "<em>Mich</em>ael Inglis" as a
                        friend. This can be seen in the box
                        below. This feature is also available on
                        mobile devices.</p>

                        <p>The typeahead also suggests people you are
                        already friends with. If you select a user you
                        are already friends with, the green plus
                        button will change to a red minus, allowing
                        you to remove that person as a friend.</p>
                        
                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/friends.png" width=500 />
                                <p class="caption">The friend overview page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/friends-profile.png" width=200 />
                                <p class="caption">...and on a mobile device.</p>
                            </div>

                        </div>

                    </subsection>

                    <subsection>

                        <h3>Friend Profile</h3>

                        <p>The friend profile page allows you to view
                            other user's profiles. These pages display any
                            locks that you own which they have access to
                            and vice-versa.</p>

                        <p>If you are not friends with the user, a
                            button will be present to remove them and
                            vice-versa.</p>
                         
                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/other-user-profile.png" width=500 />
                                <p class="caption">The friend profile page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/other-user-profile-mobile.png" width=200 />
                                <p class="caption">...and on a mobile device.</p>
                            </div>

                        </div>

                        <subsection>

                            <h4>Potential Improvements</h4>

                            <p>Unlike the lock profile page, the
                                friend profile page does not allow you to
                                control access to locks you have shared
                                with other users. This feature could be
                                added to the locks under the "Your Locks"
                                section of the page to complete the
                                functionality.</p>

                            <p>This functionality was not added before
                                the submission deadline because the
                                endpoint which provides the friend profile
                                data was a last-minute addition to the
                                API. Given more time, I would add this
                                feature.</p>

                        </subsection>

                    </subsection>
                    
                    <subsection>

                        <h3>Registered Devices Overview</h3>

                        <p>The lock overview page displays a user's
                            locks along with their current state. Each
                            lock links to its own profile page (see next
                            section). The states are actually buttons
                            which can be used to control the respective
                            lock.</p>
                        
                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/locks.png" width=500 />
                                <p class="caption">The lock overview page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/locks-mobile.png" width=200 />
                                <p class="caption">...and on a mobile device.</p>
                            </div>

                        </div>
                        
                        <subsection>
                            
                            <h4>Potential Improvements</h4>
                            
                            <p>To improve this display I could separate
                                the user's own locks from locks they have
                                been granted access to. This would help
                                users see the status of their own locks at
                                a glance (which they likely care more
                                about) and find what they're looking for
                                more efficiently.</p>
                            
                            <p>Taking this even further, a user could be
                                allowed to add a lock to a list of favourites
                                so that they could access frequently used
                                locks more quickly. By collecting data about
                                when a lock was opened and how often, we could
                                order the locks by most frequently or most
                                recently used.</p>

                        </subsection>

                    </subsection>
                    
                    <subsection>
                        
                        <h3>Lock Detail</h3>
                        
                        <p>This page displays information about a
                        user's locks. Notice the difference between
                        the mobile and desktop versions: on mobile the
                        lock button takes up most of the screen,
                        whereas on the desktop it takes up a small
                        portion.</p>

                        <p>This has been done intentionally. When
                        accessing the website on a mobile device the
                        user is most likely looking to open or close
                        their locks, so priority is given to that
                        functionality. On the desktop we have much
                        more room to display elements of the page and
                        it is more likely that a user will want to
                        manage access to their lock, so we give
                        priority to those elements. This is one of the
                        many applications of <strong>responsive
                        design</strong> in my work.<p>

                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/lock.png" width=500 />
                                <p class="caption">The lock detail page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/lock-button-mobile.png" width=200 />
                                <p class="caption">The responsive lock button.</p>
                            </div>

                            <div class="img-container inside mobile">
                                <img src="img/ayrton/lock-details-mobile.png" width=200 />
                                <p class="caption">Mobile management controls.</p>
                            </div>

                        </div>
                            
                    </subsection>

                    <subsection>

                        <h3>Registration</h3>

                        <p>This page allows the user to register a new
                            account. The forms have been set up to use
                            responsive design, making them easy to
                            fill out both on mobile and desktop
                            platforms.If a field is filled in
                            correctly, a message will be flashed upon
                            submission indicating the error.</p>

                        <p>The form also provides alerts in browsers
                            which are capable: using HTML5 validation
                            tags, required fields which are left blank
                            will force the user to fill them in before
                            submission is possible.</p>

                        <div class="img-row">
                            
                            <div class="img-container inside desktop-small">
                                <img src="img/ayrton/register.png" width=300 />
                                <p class="caption">The registration page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside desktop-small">
                                <img src="img/ayrton/error-message.png" width=300 />
                                <p class="caption">Incorrect input causes an error message.</p>
                            </div>

                            <div class="img-container inside mobile">
                                <img src="img/ayrton/register-mobile.png" width=200 />
                                <p class="caption">... and on a mobile device.</p>
                            </div>

                        </div>

                        <subsection>
                            
                            <h4>Potential Improvements</h4>

                            <p>The form could be altered to provide
                            more client-side validation, for example by
                            measuring and displaying password strength using
                            JavaScript. This would alert the user to
                            any errors before they submit the form,
                            which would provide better ease-of-use:
                            less submissions requires less typing.</p>
                        
                        </subsection>

                    </subsection>

                    <subsection>

                        <h3>Login</h3>

                        <p>This page allows the user to log in to a
                            registered account. The forms have been
                            set up to use responsive design, making
                            them easy to fill out both on mobile and
                            desktop platforms. If a field is filled in
                            correctly, a message will be flashed upon
                            submission indicating the error.</p>

                        <p>If the user enters details which do not
                            match any user account they will be shown
                            an error, but the error does not indicate
                            which field was filled out
                            incorrectly. This is to avoid alerting
                            attackers that they have found a valid
                            username whose account they could then
                            attempt to brute force access to.</p>

                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/login.png" width=500 />
                                <p class="caption">The login page on a desktop computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/login-mobile.png" width=200 />
                                <p class="caption">... and on a mobile device.</p>
                            </div>

                        </div>

                    </subsection>
                    
                </subsection>

                <subsection>

                        <h3>Lock Registration</h3>

                        <p>This page allows the user to register a new
                            lock by entering the lock's ID.</p>

                        <p>As we have no physical locks, the user is
                        currently able to register any lock ID as a
                        lock. In a production system we would maintain
                        a database of valid lock IDs and prevent the
                        user from registering a fake lock, but for
                        demonstration purposes the current system is
                        adequate.</p>

                        <div class="img-row">
                            
                            <div class="img-container inside desktop">
                                <img src="img/ayrton/register-lock.png" width=500 />
                                <p class="caption">The lock
                                registration page on a desktop
                                computer.</p>
                            </div>
                            
                            <div class="img-container inside mobile">
                                <img src="img/ayrton/register-lock-mobile.png" width=200 />
                                <p class="caption">... and on a mobile device.</p>
                            </div>

                        </div>
                        
                    </subsection>
                    
                </subsection>

                <subsection>

                    <h2>Responsive Design</h2>

                    <p>As shown in the above sections, the application
                        uses responsive design throughout. Below are some
                        examples of the how this increases accessibility for
                        mobile users:</p>


                    <div class="img-row">
                        
                        <div class="img-container inside mobile">
                            <img src="img/ayrton/lock-button-mobile.png" width=200 />
                            <p class="caption">Responsive unlock button.</p>
                        </div>
                        
                        <div class="img-container inside mobile">
                            <img src="img/ayrton/responsive-mobile.png" width=200 />
                            <p class="caption">Collapsed menu.</p>
                        </div>

                        <div class="img-container inside mobile">
                            <img src="img/ayrton/other-user-profile-mobile.png" width=200 />
                            <p class="caption">Resized components.</p>
                        </div>

                    </div>

                    <p>Instead of being presented with the same
                        website on a mobile device with all of the
                        content scaled to an unreadable size, the
                        responsive design stacks and resizes the
                        elements to be displayed in a format more
                        suitable for mobile devices which are usually
                        portait in orientation. Compare this to the
                        Three Mobile top-up page<sup><a
                        href="#3mobile">[4]</a></sup> which does not
                        use a mobile-friendly design - ironic, given
                        that they are a company selling mobile network
                        services:</p>

                    <div class="img-row">
                        
                        <div class="img-container inside desktop-small">
                            <img src="img/ayrton/3mobile.png" width=300 />
                            <p class="caption">3 non-mobile site.</p>
                        </div>

                        <div class="img-container inside desktop-small">
                            <img src="img/ayrton/other-user-profile-mobile.png" width=300 />
                            <p class="caption">Responsive, mobile-friendly.</p>
                        </div>

                    </div>

                    <p>The <em>SmartLock</em> design on the right is
                        clearly more user-friendly as the text is easily
                        readable and the buttons are large enough to be
                        pressed by a human finger without misclicking.</p>
                    
                </subsection>
                    
            </section>

            <section class="col-md-12">

                <h1 class="page-header">Implementation</h1>

                <p>In this section I will discuss aspects of the
                    implementation including libraries and frameworks used
                    and explanations of these choices, and discuss how the
                    application has been designed with code re-use in
                    mind.</p>

                <subsection>
                    
                    <h2>Web Application Framework</h2>

                    <p>I chose to use the Flask<sup><a
                        href="#flask">[5]</a></sup> web application
                        framework for this project, a lightweight web
                        application framework which is more than
                        adequate for producing applications such as
                        the <em>SmartLock</em> management interface
                        which require no database or significant
                        back-end computation.</p>

                    <p>One of the main reasons I chose this framework
                        (other than its lightweight design) is that it
                        is written in Python. When starting this
                        project I wanted to stick to a language with
                        which I was familiar. I faced a choice
                        between the Flask and Django<sup><a
                        href="#django">[6]</a></sup> frameworks. I
                        decided that Flask was more appropriate given
                        that Django is aimed at larger projects given
                        its native extensions for databases and
                        related administrative interfaces, in addition
                        to the large number of apps available to
                        extend its functionality. Whereas these
                        features may have been useful for Michael's
                        API, they would have added significant bloat
                        to my project.</p>

                </subsection>
                    
                <subsection>
                    
                    <h2>Typeahead</h2>

                    <p>The typeahead functionality is provided by
                        Twitter's typeahead.js<sup><a href="#typeahead">[7]</a></sup>.
                        This library was chosen because of its
                        robustness and the extreme ease with which
                        typeahead search can be implemented. The
                        library can produce a typeahead from JSON data with almost any format, provided that the developer configures it correctly.</p>

                    <p>I created a new API endpoint<sup><a
                        href="#friendpoint">[8]</a></sup> in my web
                        application which transforms the API data into
                        a format suitable for creating a
                        typeahead. Given more time I would integrate
                        this endpoint into the API and remove it from
                        my code, but for now this method is
                        acceptable.</p>

                </subsection>
                
            </section>
            
            <section class="col-md-12">
                
                <h1 class="page-header">References</h1>
                
                <ol>
                    <li><a name="gh-lock-emulator"></a>
                        <a href="https://github.com/ayrtonmassey/SLIP-D/blob/master/fakelock.py">
                            Massey, A. (2015).
                            <em>SmartLock Emulator Script</em>.
                            Edinburgh, UK.
                        </a></li>
                    <li><a name="gh-lock-logic"></a>
                        <a href="https://github.com/mingles-/SLIP-D/commit/54069f208cef5fe4d8626ed465c650b4225fc8b8">
                            Massey, A. (2015).
                            <em>SmartLock API Logic</em>.
                            Edinburgh, UK.
                        </a></li>
                    <li><a name="gh-api-endpoints"></a>
                        <a href="https://github.com/mingles-/SLIP-D/commit/05f432d7ad2e27e135e1ae4c4c1ba7f9f1cb825e">
                            Massey, A. (2016).
                            <em>SmartLock API Endpoints</em>.
                            Edinburgh, UK.
                        </a></li>
                    <li><a name="3mobile"></a>
                        <a href="https://www.three.co.uk/New_My3/My3_Home">
                            Hutchison 3G UK Limited (2002).
                            <em>3 Mobile Top-Up Page</em>.
                            UK.
                        </a></li>
                    <li><a name="flask"></a>
                        <a href="http://flask.pocoo.org/">
                            Ronacher, A. (2014).
                            <em>Flask (A Python Microframework)</em>.
                        </a></li>
                    <li><a name="django"></a>
                        <a href="https://www.djangoproject.com/">
                            Django Software Foundation. (2005).
                            <em>Django: The web framework for perfectionists with deadlines.</em>.
                        </a></li>
                    <li><a name="typeahead"></a>
                        <a href="https://twitter.github.io/typeahead.js/">
                            Twitter, Inc. (2013).
                            <em>typeahead.js</em>.
                            US.
                        </a></li>
                    <li><a name="friendpoint"></a>
                        <a href="https://github.com/ayrtonmassey/SLIP-D/blob/master/SmartLockWebApp/SmartLockWebApp.py#L146">
                            Massey, A. (2015).
                            <em>SmartLock Typeahead Search Data Endpoint</em>.
                            Edinburgh, UK.
                        </a></li>
                    
                </ol>
                
            </section>
            
        </div>
        
        <!-- jQuery -->
        <script src="js/jquery.js"></script>

        <!-- tocify scripts -->
        <script src="js/jquery-ui-1.9.1.custom.min.js"></script>
        <script src="js/jquery.tocify.min.js""></script>

        <!-- Bootstrap Core JavaScript -->
        <script src="js/bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script>
         // Closes the sidebar menu
         $("#menu-close").click(function(e) {
             e.preventDefault();
             $("#sidebar-wrapper").toggleClass("active");
         });

         // Opens the sidebar menu
         $("#menu-toggle").click(function(e) {
             e.preventDefault();
             $("#sidebar-wrapper").toggleClass("active");
         });

         //Executes your code when the DOM is ready.  Acts the same as $(document).ready().
         $(function() {
             //Calls the tocify method on your HTML div.
             $("#toc").tocify({context: '#report-context',
                               scrollTo: 0});
             $(function($) {
                 var $cache = $('#toc');
                 w = $cache.outerWidth();
                 ml = $cache.css('margin-left');
                 function fixDiv() {
                     if ($(window).scrollTop() > $("header").outerHeight()) {
                         $cache.css({
                             'position': 'fixed',
                             'top': '40px',
                             'width': w
                         });
                     } else {
                         $cache.css({
                             'position': 'static',
                             'width': w,
                             'margin-left': ml,
                         });
                     }
                 }
                 $(window).scroll(fixDiv);
                 fixDiv();
             });
         });

        </script>

    </body>

</html>
